usage
=====

pipeline tools
--------------

* I am using a tool that I wrote which caches file output of each step. This means it won't rerun tasks if the file exists. 
* folder structure:
  - reports_decrypted contains the decrypted pdfs
  - all per pfd outputs generated are in "working/{funcname}/{base}" where base is name of pdf without extension
  - aggregate files are in working/*
* Eventually I want to use prefect2 but not yet
* You can run the pipeline using notebooks below. Takes 1 minute per pdf
* I have uploaded processed pipeline for 10 files so you can just use that and save yourself 10 minutes!

notebooks
---------
* change first cell for file locations on your machine
* 10 pipeline preprocess - converts pdfs => get_topics which is a dataframe for each pdf
* 15 pipeline review
   - sample of rows accepted/rejected; and sentences accepted/rejected
   - NER example
   - single file to compare against pdf
* 20 pipeline aggregate - merges into one file and predicts ESG-bert (takes another 10 minutes for 10 on cpu)
* 40 pipeline aggregate analysis
   - sample of sentences that should be in scope with their esg topics
   - creates crosstab of esg-bert versus keyword.


***************************************************************************************************************


issues with data
================
* often unclear what subtopic to assign to a sentence
* lack of an obvious right answer makes it hard to compare keywords with the ESG-bert model
* especially hard to define or give examples of "outofscope"

ESG-bert versus keywords
========================

Upsides
* Avoids issues with keywords with multiple meanings e.g. "material"
* Easier to adapt and improve by retraining on new examples.
* Easier to measure performance after changes
* Topic categories are similar
* All of the downsides could be fixed via retraining with additional examples

Downsides
* No equivalent of "mobility"
* No "outofscope". Currently using score<.5 & no keyword matches
* Single topic only. However keyword matching is poor at this
